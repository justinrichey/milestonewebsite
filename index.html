<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>
  body {
    padding: 100px;
    width: 1000px;
    margin: auto;
    text-align: left;
    font-weight: 300;
    font-family: 'Open Sans', sans-serif;
    color: #121212;
  }
  h1, h2, h3, h4 {
    font-family: 'Source Sans Pro', sans-serif;
  }
</style>
<title>CS 184 Final Project Proposal</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet">
</head>


<body>

<h1 align="middle">Final Project Milestone: Wind on grass simulation</h1>
<h2 align="middle">CS 184: Computer Graphics and Imaging, Spring 2022</h2>

<br><br>

<div>

<h4>Team Members</h4>

<p>Justin Richey, Orion Lehrmann, Jonathan Kim, and Steven Christopher</p>
<p>Slides:</p>
<a href="https://docs.google.com/presentation/d/1CTM5x_Qe4jYdHz3rO0mtDs7xrZ5tiqJ2SHdnBAFt-SU/edit?usp=sharing">https://docs.google.com/presentation/d/1CTM5x_Qe4jYdHz3rO0mtDs7xrZ5tiqJ2SHdnBAFt-SU/edit?usp=sharing</a>
<p>Video:</p>
<a href="https://drive.google.com/file/d/1IoxYmGhRLeIDjOS1vAERS_g7IMC36NBQ/view?usp=sharing">https://drive.google.com/file/d/1IoxYmGhRLeIDjOS1vAERS_g7IMC36NBQ/view?usp=sharing</a>

<h3 align="middle">What we have accomplished</h3>

<p>
  In this project, we plan to simulate the effects of wind on grass. We have broken the project into three main parts. First, we build the wind simulation, and next we need to create the grass shaders. Once these two tasks are completed, we can model the effects of the wind force and gravity on grass. So far, we have completed the wind simulation (1 of 3 main tasks). We were able to build a fairly realistic wind field that accurately moves the simulated cloth. We are currently working on building the grass shaders.
</p>

<h3 align="middle">Demonstration of progress</h3>

<p>
  To demonstrate how our wind field behaves, we use pinned2.json with the wind field enabled. We chose this scene because it is vertically oriented and contains pinned points (much like our grass will be vertical and contain a root that grounds it). You can also see the GUI changes that we made and the effects of altering the wind velocity and angle. Here is a video demo (note that this is not our 1 minute presentation that is linked at the top).
</p>

 <video align="middle" width="640" controls>
  <source src="videos/demowind.mov" type="video/mp4">
Your browser does not support the video tag.
</video> 

<h3 align="middle">Reflection on progress</h3>

<p>
  We made a few alterations to the wind simulation from our original plans. Rather than basing our simulation off of fluid dynamics, we decided to take the advice from the proposal feedback. We first built a fixed wind field with a uniform force and then made various changes to make the wind more realistic. The forces of the field are calculated using 'wind load', which is typically calculated when determining the effect of wind force on a building/structure. To calculate the wind load, we need values for the air density, dynamic pressure, wind angle, and surface area of the object that the wind is hitting. The air density value we use is the density at sea level. The dynamic pressure is calculated using the air density and wind velocity. The maximum wind velocity is provided by the user via a slider we made in the GUI. The user also has an option to change the wind angle in the GUI using a slider as well. The angle at which wind hits affects points in the z and x directions, but does not affect the y direction of the points. To implement these new GUI elements, we added a new class/struct to the skeleton called WindParameters which functions similarly to ClothParameters, making the GUI input values readily available to other parts of the program. <br><br>
  We primarily use wind load to model our wind field, but we make other smaller tweaks as well to make the wind seem more realistic. For example, wind gusts do not occur at every timestep. There is only a 1 in 3 chance of a wind force being applied to the cloth at a given timestep. In addition, the wind force is not always guaranteed to be calculated using the max wind velocity. Instead, each gust of wind is randomly between 1 and 1/2 times the maximum wind velocity. We add these random factors in to mimic the seemingly erratic nature of wind gusts in reality. Another aspect of our wind field is that the force scales based on the y value of the point being affected. The force decreases based on a percentage of how far the y value is from 0, so that the top of the grass will seem more easily swayed (this effect is reversed in our pinned2.json demo, since the object is pinned at the top rather than rooted at the bottom like our grass will be). We think we can complete our original tasks that we set out to in our proposal (that is, the task schedule is unchanged).
  </p>

</body>
</html>
